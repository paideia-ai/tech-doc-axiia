# IP-04: Schema Design Decisions

Reference: [schema-comparison.md](../schema-comparison.md)

---

## Feedback

we will improve the master version based on below comments

### #1 ProblemId format
problem id should still be only digit
but we add an additional field on problem name in english

### #2 Language digit validation
good, make this change 

### #3 DimensionId typee

**5 Core Dimensions of AI Collaboration:**
1. **Discovery & Self-Understanding** (发现与自我理解) - Clarifying goals before starting
2. **Expression & Translation** (表达与转译) - Converting ideas into clear AI instructions
3. **Exploratory Discovery** (探索式发现) - Finding unknown unknowns with AI
4. **Verification & Confirmation** (验证与确认) - Critically evaluating AI outputs
5. **Iterative Optimization** (迭代优化与反馈) - Directed refinement based on feedback

1 make the dimension to be enum
2 change the name of dimension schema enum to match above , make all space and special char to be -
eg.
Discovery-Self-Understanding

### #4 Prompt versioning
this place we do per file git commit hash and together with content hash
we don't need much edit for now, later will merge a design from other contributor

### #5 Pre-curve grade
maintain master version, no letter grade pre curve 

### #6 Report structure
we seperate full report schema from score schema
we use the report schema from anna
and then we extract score schema from report schema
we do all kinds of scripting on score schema to get the final curved score and merge it back to report schema 

llmreportschema should be splited to uncurved report and curved reports 
two schema



### #7 Totals in JSONScores
keep everything 
use v1 version so that we have every ability score and every probalem score 
the ability score should have 5 score
the problem scores should mathch the numebr of problems

### #8 Curve source events
1 use multiple source
2 need curve for all three score
3 emebed the dependency inside
4 use the record version of schema

### #9 Dependency location
make it embed

### #10 Per-problem-dimension grades
add dimensionDetailGrades
we need it 

### #11 Pre-curve grade handling
no grade filed precurve
both for report and score object


### #12 Curve methods
support multiple, but for now we only have std dev

### #13 Grade threshold format
use anna v1

### #14 Report content modeling
the core part have only score
the report is where score gets extracted, and gets merged after curving

### #15 Post-curve output
generate score first, and merge to report

### #16 ScorePool
maintain explicit scorepool
but allow socres from multiple events
the scorepool problem id and dimension id must be present in all scores in this pool
in general, we should ensure the scorepool can be meaningfully computed once it is formed, even if the scores are from various sources

### #17 Compatibility checking
maintain 

### #18 EventConfig
it need be explicit since we seperate score and report
